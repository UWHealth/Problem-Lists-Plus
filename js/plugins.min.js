!function(){"use strict";!function(){var t,i;t=i=function(){},i.prototype.init=function(t){return this.$el=$(t),this.container=t,this.canvas=document.createElement("canvas"),this.sizeCanvas(),this.container.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.particleNetwork=new n(this),this.bindUiActions(),this},i.prototype.bindUiActions=function(){$(window).on("resize",function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.sizeCanvas(),this.particleNetwork.createParticles()}.bind(this))},i.prototype.sizeCanvas=function(){this.canvas.width=this.container.offsetWidth,this.canvas.height=this.container.offsetHeight};var s=function(t,i,s){this.network=t,this.canvas=t.canvas,this.ctx=t.ctx,this.particleColor=a(this.network.options.particleColors),this.radius=e(1.5,2.5),this.opacity=0,this.x=i||Math.random()*this.canvas.width,this.y=s||Math.random()*this.canvas.height,this.velocity={x:(Math.random()-.5)*t.options.velocity,y:(Math.random()-.5)*t.options.velocity}};s.prototype.update=function(){this.opacity<1?this.opacity+=.01:this.opacity=1,(this.x>this.canvas.width+100||this.x<-100)&&(this.velocity.x=-this.velocity.x),(this.y>this.canvas.height+100||this.y<-100)&&(this.velocity.y=-this.velocity.y),this.x+=this.velocity.x,this.y+=this.velocity.y},s.prototype.draw=function(){this.ctx.beginPath(),this.ctx.fillStyle=this.particleColor,this.ctx.globalAlpha=this.opacity,this.ctx.arc(this.x,this.y,this.radius,0,2*Math.PI),this.ctx.fill()};var n=function(t){this.options={velocity:.4,density:16500,netLineDistance:225,netLineColor:"#B4ADAD",particleColors:["rgba(51,47,47,.1)","rgba(163,132,132,.15)","rgba(209,69,69,.25)"]},this.canvas=t.canvas,this.ctx=t.ctx,this.init()};n.prototype.init=function(){this.createParticles(!0),this.animationFrame=requestAnimationFrame(this.update.bind(this)),this.bindUiActions()},n.prototype.createParticles=function(t){var i=this;this.particles=[];var n=this.canvas.width*this.canvas.height/this.options.density;if(t){var e=0;clearInterval(this.createIntervalId),this.createIntervalId=setInterval(function(){e<n-1?this.particles.push(new s(this)):clearInterval(i.createIntervalId),e++}.bind(this),100)}else for(var a=0;a<n;a++)this.particles.push(new s(this))},n.prototype.createInteractionParticle=function(){return this.interactionParticle=new s(this),this.interactionParticle.velocity={x:0,y:0},this.particles.push(this.interactionParticle),this.interactionParticle},n.prototype.removeInteractionParticle=function(){var t=this.particles.indexOf(this.interactionParticle);t>-1&&(this.interactionParticle=void 0,this.particles.splice(t,1))},n.prototype.update=function(){if(this.canvas){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.globalAlpha=1;for(var t=0;t<this.particles.length;t++)for(var i=this.particles.length-1;i>t;i--){var s,n=this.particles[t],e=this.particles[i];s=Math.min(Math.abs(n.x-e.x),Math.abs(n.y-e.y)),s>this.options.netLineDistance||((s=Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2)))>this.options.netLineDistance||(this.ctx.beginPath(),this.ctx.strokeStyle=this.options.netLineColor,this.ctx.globalAlpha=(this.options.netLineDistance-s)/this.options.netLineDistance*n.opacity*e.opacity,this.ctx.lineWidth=.7,this.ctx.moveTo(n.x,n.y),this.ctx.lineTo(e.x,e.y),this.ctx.stroke()))}for(var t=0;t<this.particles.length;t++)this.particles[t].update(),this.particles[t].draw();0!==this.options.velocity&&(this.animationFrame=requestAnimationFrame(this.update.bind(this)))}else cancelAnimationFrame(this.animationFrame)},n.prototype.bindUiActions=function(){this.spawnQuantity=2,this.mouseIsDown=!1,this.touchIsMoving=!1,this.onMouseMove=function(t){this.interactionParticle||this.createInteractionParticle(),this.interactionParticle.x=t.offsetX,this.interactionParticle.y=t.offsetY}.bind(this),this.onTouchMove=function(t){t.preventDefault(),this.touchIsMoving=!0,this.interactionParticle||this.createInteractionParticle(),this.interactionParticle.x=t.changedTouches[0].clientX,this.interactionParticle.y=t.changedTouches[0].clientY}.bind(this),this.onMouseDown=function(){this.mouseIsDown=!0;var t=0,i=this.spawnQuantity,n=setInterval(function(){if(this.mouseIsDown){1===t&&(i=1);for(var e=0;e<i;e++)this.interactionParticle&&this.particles.push(new s(this,this.interactionParticle.x,this.interactionParticle.y))}else clearInterval(n);t++}.bind(this),50)}.bind(this),this.onTouchStart=function(t){t.preventDefault(),setTimeout(function(){if(!this.touchIsMoving)for(var i=0;i<this.spawnQuantity;i++)this.particles.push(new s(this,t.changedTouches[0].clientX,t.changedTouches[0].clientY))}.bind(this),200)}.bind(this),this.onMouseUp=function(){this.mouseIsDown=!1}.bind(this),this.onMouseOut=function(){this.removeInteractionParticle()}.bind(this),this.onTouchEnd=function(t){t.preventDefault(),this.touchIsMoving=!1,this.removeInteractionParticle()}.bind(this),this.canvas.addEventListener("mousemove",this.onMouseMove),this.canvas.addEventListener("touchmove",this.onTouchMove),this.canvas.addEventListener("mousedown",this.onMouseDown),this.canvas.addEventListener("touchstart",this.onTouchStart),this.canvas.addEventListener("mouseup",this.onMouseUp),this.canvas.addEventListener("mouseout",this.onMouseOut),this.canvas.addEventListener("touchend",this.onTouchEnd)},n.prototype.unbindUiActions=function(){this.canvas&&(this.canvas.removeEventListener("mousemove",this.onMouseMove),this.canvas.removeEventListener("touchmove",this.onTouchMove),this.canvas.removeEventListener("mousedown",this.onMouseDown),this.canvas.removeEventListener("touchstart",this.onTouchStart),this.canvas.removeEventListener("mouseup",this.onMouseUp),this.canvas.removeEventListener("mouseout",this.onMouseOut),this.canvas.removeEventListener("touchend",this.onTouchEnd))};var e=function(t,i,s){var n=Math.random()*(i-t)+t;return s&&(n=Math.round(n)),n},a=function(t){return t[Math.floor(Math.random()*t.length)]};if($("#particle-canvas")[0]){(new t).init($("#particle-canvas")[0])}}()}();